# 5. 标点模式：正常模式

最常用的标点模式。

接受一组标点的**相对坐标**，依次经过缩放、旋转、平移后处理为场地的实际坐标。

### **参数：`action`**

  此模式下固定为 `action: place`，代表使用正常模式。

  也可以省略此参数，会默认为正常模式。

### **参数：`A` `B` `C` `D` `1` `2` `3` `4`**

每个标点的坐标。给出坐标的点会被标记，未包含的点会被忽略（保持原本的状态）。

```python
A:  100,  90
C:  100, 110
```

<details>
  <summary> ⭐️查看效果图</summary>
  <img src="https://github.com/user-attachments/assets/46cebf2f-5f35-4347-8fb7-f19d3fbe2f45" height="250">
</details>

> [!TIP]
> 你可以复制下方动作文本，粘贴到任意触发器中，阅读本文时可随时复制参数，尝试修改并观察效果。
> 
> 建议使用伊甸四层（泰坦），中心坐标 `100, 100, 0`，方格边长 `10`，易于观查。

```xml
<Action OrderNumber="1" NamedCallbackName="AdvWm" NamedCallbackParam="A:  0, -10&#xD;&#xA;C:  0,  10" ActionType="NamedCallback"/>
```

如果要清除标点，可使用关键字 `clear`。

清除与再次标记时会有淡入淡出，如果不想看到这个动画，可以用关键字 `fakeclear` 移到高空。 
  
```python
A:  clear
C:  fakeclear
```

后续参数中可以任意指定一个点作为坐标系中心，任意指定一个方向为相对北，只需要输入这个相对坐标系下的每个点的坐标。

若忽略缩放、旋转、平移等全部修饰参数，相对坐标就等同于绝对坐标。

### **参数：`O` / `center`**

  相对参考系的原点的实际坐标，即三个坐标轴的偏移。

  未给出时使用默认值 `0, 0, 0`，等效于绝对坐标。

  如对于前面的例子，可以直接写明中心坐标 `100, 100, 0`，即可更直观地表示坐标：

  ```python
  O: 100, 100, 0
  A: 0, -10
  C: 0, 10
  ```

  <details>
    <summary> ⭐️查看效果图</summary>
    （和前面完全一致）
    
    <img src="https://github.com/user-attachments/assets/46cebf2f-5f35-4347-8fb7-f19d3fbe2f45" height="250">
  </details>

> [!TIP]
> 中心不一定是场地的中心，有时以实体为中心更方便标点。



### **参数：`θ` 或 `theta`**

  可选参数：旋转角度。这段定义可能不符合某些直觉，建议多看几遍：

  此参数代表这个相对坐标系中的 “相对北” 实际指向哪个绝对方向。

  方向角与游戏内面向的方向角定义一致，见前文的链接 “坐标系与角度”。
  
  未提供时的默认值为代表正北的 `-π` （相对北指向绝对北，即未旋转）

  例：

  ```python
  
  A: 0, -10
  ```

  意为以 `45°` 正东南为相对北，标记 A 到相对北（即绝对正东南）。

### **参数：`scaleX` `scaleY` `scaleZ` `scale`**

  可选参数，代表坐标在各个轴的缩放，不提供时默认值均为 1。

  每个轴会优先使用给定的此轴的缩放比例（如 x 轴使用 `scaleX`），若未提供则尝试使用 `scale`，均未提供则默认为 1，不执行缩放。

  注意 `scaleX` 和 `scale` 同时给出时，前者覆盖后者，而非乘算。

  下表展示 scale 变化带来的影响。你可以尝试复制并在欧米茄三层测试下列参数。

  ```python
  scaleX: 10
  scaleY: -5
  1:  1, -1
  2:  1,  1
  3: -1,  1
  4: -1, -1
  ```

  意为 x 轴放大十倍，y 轴放大 5 倍并镜像反转，等效于下列参数：

  ```python
  1:  10,  5
  2:  10, -5
  3: -10, -5
  4: -10,  5
  ```

  这可以做到只使用一个标点指令，根据不同情况执行不同的标点。

  比如你的触发器有一个捕获组 `(?<actionId>92A[34])` 是 boss 的左右刀技能 ID，根据左右刀镜像标两套标点，  
  便可使用 `scaleX: ${actionId} == 92A3 ? 1 : -1` 控制标点的左右镜像反转。
  
