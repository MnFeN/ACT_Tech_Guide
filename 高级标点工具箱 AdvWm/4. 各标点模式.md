# 4. 各标点模式

在这一章节，我们忽略所有修饰（即无缩放、旋转、平移），初始计算出的绝对坐标即为最终标点的绝对坐标。

故这一章节中，采用的场地中心为 `0, 0, 0`，以便说明。

> [!TIP]
> 你可以复制下方动作文本，粘贴到任意触发器中。
>
> 阅读本文时可随时复制参数，尝试修改并观察效果。
> 
> 建议使用欧米茄德尔塔幻境 3，场地中心 `0, 0, 0`，方格边长 `10`，易于观查。  
> <sub>但为了方便截图，我在本章节会使用 E4 的场地并假定中心坐标为 0，模拟出标点效果。</sub>

```xml
<Action NamedCallbackName="AdvWm" NamedCallbackParam="点击左侧三角展开多行，在此粘贴参数" ActionType="NamedCallback"/>
```

---

## 默认模式

默认模式是最常用的标点模式，仅需直接给出各个标点的相对坐标。

**默认模式下不需要写明 `Action: ...`。**

> [!NOTE]
> 曾有 `Relative` `Absolute` `Place` `Rotate` 等多种不同模式，但现已弃用，全部整合兼容为这一种模式。

### 参数：标点坐标

**参数名：`A` `B` `C` `D` `1` `2` `3` `4`**

每个标点的坐标。给出坐标的点会被标记，未包含的点会被忽略（保持原本的状态）。

支持使用直角坐标、极坐标，且可以叠加多个坐标。详见 [附录：坐标表示](附录：坐标表示.md)。

```javascript
// 在正北（y 负半轴）10 m 标记 A
A:  0, -10
// 在正东（θ = 90°）15 m 标记 B
B:  polar 15, 90°
```
<!-- img src="https://github.com/user-attachments/assets/46cebf2f-5f35-4347-8fb7-f19d3fbe2f45" height="250" -->

如果要取消标点，可使用关键字 `Clear`。

取消与再次标记时会有淡入淡出，如果不希望看到淡入淡出带来的延缓，可以用关键字 `FakeClear` 将点移到高空。 
  
```javascript
// 清除 A
A:  Clear
// 伪清除 C
C:  FakeClear
```

---

## 圆周模式 (circle)

**`Action: Circle`**

将 360° 周角等分为若干份，每个标点放置于等分线上。

如使用四个标点标记正方向，或八个标点八方标记一个圆周。

需要给定要用的全部标点及半径。

### 参数：全部标点

**参数名：`Waymarks`**

从相对参考系的正北开始，按照角度增加的方向（俯视角逆时针）依次列出用的全部标点。如：

```javascript
// 四方标点
Waymarks: ADCB
```

```javascript
// 八方标点（北侧从左到右 1A2）
Waymarks: A1D4C3B2
```

此外，有时会遇到想要空出一些标点的情况，此时可以用任意非标点名的字符作为占位符，保持圆周等分数，且空出一个位置。

```javascript
// 正六边形但左下、右下留空（类似绝巴哈）
Waymarks: 2D_C_B
```

### 参数：半径

**参数名：`R`**

代表中心到标点的距离，相当于圆周半径。如：

```javascript
// 绝龙诗 13.2 m 半径八方标点
Action:   Circle
Waymarks: A4D3C2B1
R: 13.2
```

### 参数：副半径

**参数名：`R2`**

有时会遇到希望所有点处于等分线，但是奇数组和偶数组半径不同的情况，如正方形/四角星形八方标点。

此时可以额外给定一个副半径，所有标点从正北开始依次使用主半径和副半径。如：

```javascript
// 半宽 10 m 的正方形
Action:   Circle
Waymarks: A4D3C2B1
R:  10
R2: 10√2
```

> [!NOTE]
> 副半径是后加入的，主要用于正方向与斜方向不等距的八方标记。
>
> 由于标点逻辑与圆周标点一致，整合进了 `Circle`，所以名称略显误导。

---

## 圆弧模式

---

## 线性模式

